<template>
  <app-layout>
    <template #content="{page}">
      <ion-button id="open-modal" @click="openModal(page)" expand="block">æ‰“å¼€</ion-button>
      <ion-modal ref="modal" trigger="open-modal" :can-dismiss="canDismiss" :presenting-element="presentingElement">
        <ion-header>
          <ion-toolbar>
            <ion-title>ğŸ‘‹ç”¨æˆ·åè®®</ion-title>
            <ion-buttons slot="end">
              <ion-button @click="dismiss()">
                {{ canDismiss ? 'åŒæ„' : 'ä¸ç»™ç”¨' }}
              </ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>
        <ion-content>
          <p class="ion-padding-horizontal">
            ä½ å¿…é¡»åŒæ„æ­¤æ¡æ¬¾æ‰èƒ½ç»§ç»­ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ã€‚
          </p>
          <ion-item>
            <ion-label class="ion-text-wrap" for="terms">æ˜¯å¦ğŸ™†åŒæ„?</ion-label>
            <ion-checkbox id="terms" @ionChange="onTermsChanged" :checked="canDismiss"></ion-checkbox>
          </ion-item>
        </ion-content>
      </ion-modal>
    </template>
  </app-layout>
</template>

<script setup>
import AppLayout from "@/layout/AppLayout.vue";
import {inject, onMounted, onUpdated, ref, watch} from "vue";
import {
  IonButtons,
  IonButton,
  IonModal,
  IonHeader,
  IonContent,
  IonToolbar,
  IonTitle,
  IonItem,
  IonCheckbox,
  IonLabel,
  IonPage,
} from '@ionic/vue';

const presentingElement = ref()
const modal = ref(null)

const page = ref(null);
const canDismiss = ref(false);


const openModal = (value) => {
  presentingElement.value = value.$el;
}
const dismiss = () => {
  modal.value.$el.dismiss();
}

const onTermsChanged = (ev) => {
  canDismiss.value = ev.detail.checked;
}
</script>
